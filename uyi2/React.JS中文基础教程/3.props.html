<html>

<head>
    <meta charset="utf-8">
    <title>学习React！！</title>
</head>

<body>
    <div id="app"></div>
    <script src="bower_components/react/react.js"></script>
    <script src="bower_components/react/JSXTransformer.js"></script>
	<script type="text/jsx">
		var MessageBox = React.createClass({
			getInitialState:function(){
				return {
					isVisible: true,
					// subMessages:[
					// 	'如果没有默认的子消息就显示我1',
					// 	'如果没有默认的子消息就显示我2',
					// 	'如果没有默认的子消息就显示我3',
					// ]
				}
			},
			render:function(){	

				return ( 
					<div>
						<h1>{this.props.title}</h1> 
						<Submessage messages={this.state.subMessages} />
					</div>
				)
			}
		});

		var Submessage = React.createClass({
			propTypes:{
				messages: React.PropTypes.array.isRequired,
			},
			getDefaultProps:function(){
				return {
					messages: ['默认的子消息'],
				}
			},
			render:function(){
				var msgs = [];
				this.props.messages.forEach(function(msg,index){
					msgs.push(
						<p>码农说： {msg}</p>
					)
				});

				return (
					<div>{msgs}</div>
				)
			}
		});

		var title = 'MessageBox组件的title（来自props）';

		var messageBox = React.render(
			<MessageBox title={title}/>,
			document.getElementById('app')
		)

// 总结：

	</script>


</body>

</html>